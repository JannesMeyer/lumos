#!/usr/bin/env node --harmony

var commands = {
	serve: '../dist/cmd-serve',
	view: '../dist/cmd-view',
	edit: '../dist/cmd-edit',
	diary: '../dist/cmd-diary'
};

function getHelp() {
	return 'usage: lumos <command> [<args>]\n'
	     + '\n'
	     + 'Available commands:\n'
	     + '   ' + Object.keys(commands).join('\n   ');
}

// Main
var args = process.argv.slice(2);
var commandPath = commands[args.shift()];

if (commandPath) {
	// Execute command
	require(commandPath).cmd(args);
} else {
	console.log(getHelp());
}