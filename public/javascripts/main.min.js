"use strict";addEventListener("DOMContentLoaded",function(){function e(e){return document.getElementsByClassName(e)[0]}function n(e){var n=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled;if(n){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,l=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen,o=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen;t===e?l.call(document):o.call(e)}}var t=(e("m-page"),e("button-fullscreen")),l=e("edit-button"),o=e("m-search");t.addEventListener("click",function(e){n(document.documentElement),t.blur(),e.preventDefault()});var r,c,u,d,a=document.getElementsByTagName("link");for(u=0;u<a.length;++u)d=a[u],"prev"===d.rel?r=d.href:"next"===d.rel&&(c=d.href);var m={27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down",69:"e",70:"f",74:"j",75:"k",82:"r",191:"/"};addEventListener("keydown",function(e){var t;if(!m[e.keyCode])return void console.log("Unrecognized key:",e.keyCode);t=m[e.keyCode];var u=e.target;if("INPUT"===u.tagName||"TEXTAREA"===u.tagName||"SELECT"===u.tagName||u.isContentEditable)return void("esc"===t&&u.blur&&u.blur());var d=e.ctrlKey,a=e.shiftKey,i=e.altKey,s=e.metaKey,f=d+a+i+s;return"/"===t&&0===f?(o.focus(),void e.preventDefault()):"j"===t&&0===f&&c?void(location.href=c):"k"===t&&0===f&&r?void(location.href=r):"e"===t&&0===f?void(location.href=l.href):"f"===t&&0===f?void n(document.documentElement):"r"===t&&0===f?void(location.href="/"):"up"===t&&s&&1===f?void(location.href=".."):void 0})});