"use strict";addEventListener("DOMContentLoaded",function(){function e(e){return document.getElementsByClassName(e)[0]}function t(e){var t=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled;if(t){var n=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,l=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen,r=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen;n===e?l.call(document):r.call(e)}}var n=(e("m-page"),e("button-fullscreen")),l=e("m-search");n.addEventListener("click",function(e){t(document.documentElement),n.blur(),e.preventDefault()});var r,u,c,o,a=document.getElementsByTagName("link");for(c=0;c<a.length;++c)o=a[c],"prev"===o.rel?r=o.href:"next"===o.rel&&(u=o.href);var m={27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down",66:"b",69:"e",70:"f",74:"j",75:"k",191:"/"};addEventListener("keydown",function(n){var c;if(m[n.keyCode]){c=m[n.keyCode];var o=n.target;if("INPUT"===o.tagName||"TEXTAREA"===o.tagName||"SELECT"===o.tagName||o.isContentEditable)return void("esc"===c&&o.blur&&o.blur());var a=n.ctrlKey,d=n.shiftKey,i=n.altKey,s=n.metaKey,f=a+d+i+s;if("/"===c&&0===f)return l.focus(),void n.preventDefault();if("j"===c&&0===f&&u)return void(location.href=u);if("k"===c&&0===f&&r)return void(location.href=r);if("b"===c&&s&&1===f){var E=e("edit-button");return void(location.href=E.href)}"f"===c&&0===f&&(t(document.documentElement),n.preventDefault())}})});