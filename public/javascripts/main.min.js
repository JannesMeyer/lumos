"use strict";addEventListener("DOMContentLoaded",function(){function e(e){return document.getElementsByClassName(e)[0]}function t(e){var t=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled;if(t){var n=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,l=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen,u=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen;n===e?l.call(document):u.call(e)}}var n=(e("m-page"),e("button-fullscreen")),l=e("edit-button"),u=e("m-search");n.addEventListener("click",function(e){t(document.documentElement),n.blur(),e.preventDefault()});var c,r,o,d,m=document.getElementsByTagName("link");for(o=0;o<m.length;++o)d=m[o],"prev"===d.rel?c=d.href:"next"===d.rel&&(r=d.href);var a={27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down",69:"e",70:"f",74:"j",75:"k",191:"/"};addEventListener("keydown",function(e){var n;if(a[e.keyCode]){n=a[e.keyCode];var o=e.target;if("INPUT"===o.tagName||"TEXTAREA"===o.tagName||"SELECT"===o.tagName||o.isContentEditable)return void("esc"===n&&o.blur&&o.blur());var d=e.ctrlKey,m=e.shiftKey,s=e.altKey,i=e.metaKey,f=d+m+s+i;return"/"===n&&0===f?(u.focus(),void e.preventDefault()):"j"===n&&0===f&&r?void(location.href=r):"k"===n&&0===f&&c?void(location.href=c):"e"===n&&0===f?void(location.href=l.href):void("f"===n&&0===f&&(t(document.documentElement),e.preventDefault()))}})});